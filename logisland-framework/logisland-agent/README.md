# Swagger Jersey generated server

## Overview
This server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the 
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled JAX-RS server.

This example uses the [JAX-RS](https://jax-rs-spec.java.net/) framework.

To run the server, please execute the following:

```
mvn clean package jetty:run
```

You can then view the swagger listing here:

```
http://localhost:8080/agent/api/v0.10.0/swagger.json
```

Note that if you have configured the `host` to be something other than localhost, the calls through
swagger-ui will be directed to that host and not localhost!


```
swagger-codegen generate --group-id com.hurence.logisland  --artifact-id logisland-agent --artifact-version 0.10.0-SNAPSHOT --api-package com.hurence.logisland.agent.rest.api --model-package com.hurence.logisland.agent.rest.model -o logisland-framework/logisland-agent -l jaxrs --template-dir logisland-framework/logisland-agent/src/main/raml/templates -i logisland-framework/logisland-agent/src/main/raml/api-swagger.yaml
```

## How to start and debug the agent inside your IDE ?
### Eclipse
Note that the following steps are required only the first time you start the agent:

Right click on the file 'com.hurence.logisland.agent.LogIslandAgentMain' and select 'Debug As/ Debug Configurations'
Click on the tag 'Arguments'
Copy the following in the textbox 'Program arguments': ${project_loc:logisland-resources}/src/main/resources/conf/logisland.properties
Click on debug

### IntelliJ IDEA
TODO

## How to test the agent ?
The easiest way to test the agent is via the command 'curl'. 
Here are a couple of curl commands you can run to ensure the agent is working correctly:

curl -XGET http://localhost:8081/
-> should respond with {"type":"ok","message":"magic!"}

curl -XGET http://localhost:8081/jobs

curl -XGET http://localhost:8081/processors

curl -XGET http://localhost:8081/jobs
